# Tax Pro — Implementation Plan

## Overview

Build Tax Pro in **5 incremental milestones**, each demoable and useful on its own.

---

## Milestone 1: Core Structure + Basic Intake
**Demo**: Run `/tax-intake`, get a profile.yaml file created

### Deliverables
- [ ] Repo structure with `.claude/`, `knowledge-base/`, `install/`
- [ ] `tax-profile.example.yaml` template
- [ ] `/tax-intake` command (Phase 1: flags only)
- [ ] `.gitignore` with security rules
- [ ] `README.md` with quick start

### `/tax-intake` v1 Behavior
1. Ask filing status
2. Walk through income flags (yes/no questions)
3. Walk through deduction flags
4. Walk through situation flags
5. Write `~/.claude/tax-profile.yaml`
6. Confirm: "Profile created. Run again to update."

### Done When
- New user can clone repo, run setup, complete intake, see their profile

---

## Milestone 2: Document Checklist
**Demo**: Profile flags → personalized document checklist with status tracking

### Deliverables
- [ ] Document mapping logic (flags → required forms)
- [ ] `/tax-intake` Phase 2: generate documents array
- [ ] Dashboard view showing document status
- [ ] Expected dates for common forms

### `/tax-intake` v2 Additions
- After flags, generate `documents[]` based on mapping
- Show checklist: "Based on your situation, you'll need these documents..."
- Allow marking documents as received/not-applicable

### Done When
- User sees personalized checklist based on their flags
- Can mark documents as received
- Profile tracks document status

---

## Milestone 3: Tax Strategist Agent (Basic)
**Demo**: Load agent, get strategic advice based on profile

### Deliverables
- [ ] `agents/tax-strategist.md` agent profile
- [ ] 5 core strategies in `knowledge-base/strategies/`:
  - HSA maximize
  - 401k maximize
  - Roth conversion opportunity
  - Charitable bunching (if donations)
  - Rental PAL planning (if rental)
- [ ] Agent reads profile, matches strategies, gives advice

### Agent v1 Behavior
1. Read `~/.claude/tax-profile.yaml`
2. Check which strategies apply based on flags
3. Present top 3-5 opportunities with:
   - What we found
   - Why it matters
   - What to do
   - Source citation

### Done When
- User loads agent, asks "review my tax situation"
- Gets personalized strategic advice with IRS citations
- Advice reflects their specific flags (rental, HSA, etc.)

---

## Milestone 4: Amount Entry + Calculated Savings
**Demo**: Enter amounts → see dollar savings estimates

### Deliverables
- [ ] `/tax-intake` Phase 3: amount entry prompts
- [ ] 2025 limits file (`knowledge-base/federal/limits-2025.yaml`)
- [ ] 2025 brackets file (`knowledge-base/federal/brackets-2025.yaml`)
- [ ] Gap calculations (contribution room, bracket headroom)
- [ ] Estimated savings calculations

### Enhanced Analysis
- "You've contributed $5,350 to HSA, limit is $8,550"
- "Gap of $3,200 at 32% bracket = $1,024 federal savings"
- "You have $12,000 before hitting 35% bracket"

### Done When
- User enters key amounts
- Sees specific dollar gap calculations
- Savings estimates based on their bracket

---

## Milestone 5: CPA Packet + Full Polish
**Demo**: `/tax-packet` generates a PDF-ready summary for CPA

### Deliverables
- [ ] `/tax-packet` command
- [ ] CPA packet template (markdown)
- [ ] Analysis section auto-population
- [ ] Questions for CPA generation
- [ ] `install/setup.sh` bootstrap script
- [ ] Full README with setup options
- [ ] `SYSTEM.md` explaining how it works

### `/tax-packet` Output
```markdown
# Tax Planning Summary — [Name] — Tax Year 2025

## Profile Summary
- Filing status: Married Filing Jointly
- States: [State]
- Key situations: Rental property, HSA, 401k

## Documents Status
- ✓ W-2 (Employer) — received
- ⏳ K-1 (Rental LLC) — expected Mar 15

## Opportunities Identified
1. **HSA Gap**: $X remaining contribution room (~$Y savings)
2. **Roth Conversion**: $X bracket headroom available
3. ...

## Questions to Discuss
1. Should we pursue REPS for PAL release?
2. Is cost segregation worthwhile for rental property?

## Notes
[User can add notes here]

---
Generated by Tax Pro | [date]
```

### Done When
- User runs `/tax-packet`
- Gets formatted markdown ready for CPA review
- Can copy/paste or save as PDF

---

## Post-MVP Enhancements (Backlog)

| Feature | Description | Priority |
|---------|-------------|----------|
| Monarch integration | Auto-detect income sources from transactions | High |
| Document parsing | Read W-2/1099 PDFs and extract amounts | Medium |
| State tax module | State-specific rules and optimization | Medium |
| Multi-year tracking | Compare year-over-year, track carryforwards | Medium |
| Proactive alerts | "Dec 31 deadline approaching" notifications | Low |
| Strategy expansion | Full 50+ strategy library | Low |

---

## Timeline Suggestion

| Milestone | Scope |
|-----------|-------|
| M1 | Basic intake + structure |
| M2 | Document checklist |
| M3 | Strategy agent (basic) |
| M4 | Amounts + calculations |
| M5 | CPA packet + polish |

Each milestone is independently useful. User gets value starting at M1.

---

## Next Action

Start with **Milestone 1**:
1. Create repo structure
2. Write `tax-profile.example.yaml`
3. Create `/tax-intake` command (flags only)
4. Test end-to-end flow
